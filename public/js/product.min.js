function addToCart(e,t){var n;t=JSON.parse(t),fetch("/product",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then(e=>e.json()).then(e=>{n=e;const r=JSON.parse(localStorage.getItem("cartItems"))||[],a=document.querySelectorAll(".cart"),o=r.filter(e=>e.id===n._id),d=o.find(e=>e.option===t.name);if(d)if(d.option===t.name)d.quantity+=1,error.classList.add("d-none"),added.classList.remove("d-none"),added.innerHTML="Item quantity updated!";else{const e={id:n._id,name:n.name,image:n.image,type:n.type,min:n.min,max:n.max,option:t.name,price:Number(t.price),quantity:1};r.push(e),a.forEach(e=>e.innerHTML=r.length),error.classList.add("d-none"),added.classList.remove("d-none"),added.innerHTML="Item option added to bookings!"}else{const e={id:n._id,name:n.name,image:n.image,type:n.type,min:n.min,max:n.max,option:t.name,price:Number(t.price),quantity:1};r.push(e),a.forEach(e=>{e.classList.remove("d-none"),e.innerHTML=r.length}),error.classList.add("d-none"),added.classList.remove("d-none"),added.innerHTML="Item added to bookings!"}localStorage.setItem("cartItems",JSON.stringify(r))})}function shareOnFacebook(){navigator.share?navigator.share({title:title,url:currentUrl}).then(()=>console.log("Thanks for sharing")).catch(console.error):window.open(`https://www.facebook.com/sharer.php?u=${currentUrl}`,"_blank")}function shareOnInstagram(){navigator.share&&navigator.share({title:title,url:currentUrl}).then(()=>console.log("Thanks for sharing")).catch(console.error)}const currentUrl=window.location.href,title=window.document.title,error=document.querySelector("#option-error"),added=document.querySelector("#option-added"),buttons=document.querySelectorAll(".option-btn"),addBtn=document.querySelector(".add-to-cart");addBtn.addEventListener("click",()=>{""===addBtn.value?(error.classList.remove("d-none"),error.innerHTML="Please choose a size"):addToCart(addBtn.id,addBtn.value)}),buttons.forEach(e=>{e.addEventListener("click",()=>{buttons.forEach(t=>{t!==e&&(error.classList.add("d-none"),t.classList.remove("btn-dark","selected"),t.classList.add("btn-outline-dark"))}),addBtn.value=JSON.stringify({price:e.value,name:e.id}),e.classList.remove("btn-outline-dark"),e.classList.add("btn-dark","selected"),price.innerHTML=`$${e.value}`})});