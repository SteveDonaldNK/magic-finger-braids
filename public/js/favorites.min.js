function fetchItems(e){fetch("/get-products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({storedItems:e})}).then(e=>e.text()).then(e=>{container.innerHTML=e,initialisation()})}function initialisation(){const e=document.querySelectorAll(".show-btn"),t=document.querySelector(".drawer"),o=document.querySelector(".drawer-closer"),n=document.querySelector(".overlay"),r=document.querySelector(".add-to-cart"),c=document.querySelectorAll(".fav-icon"),s=document.querySelector("#option-error"),a=document.querySelector(".product-data"),d=document.querySelector(".spinner-container");checkFavorites(c),r.addEventListener("click",()=>{""===r.value?(s.classList.remove("d-none"),s.innerHTML="Please choose a size"):addToCart(r.id,r.value)}),e.forEach(e=>e.addEventListener("click",function(){t.classList.add("reveal"),n.classList.add("reveal"),document.body.style.overflow="hidden"})),o.addEventListener("click",function(){t.classList.remove("reveal"),n.classList.remove("reveal"),document.body.style.overflow="auto",s.classList.add("d-none")}),t.addEventListener("transitionend",()=>{t.classList.contains("reveal")||(a.classList.add("d-none"),d.classList.remove("d-none"),s.classList.add("d-none"))}),n.addEventListener("click",function(){t.classList.remove("reveal"),n.classList.remove("reveal"),document.body.style.overflow="auto"})}const path=window.location.pathname,container=document.querySelector(".product-container"),storedItems=JSON.parse(localStorage.getItem("favorites"));fetchItems(storedItems);