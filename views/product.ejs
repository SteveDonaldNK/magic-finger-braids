<%- include("./partials/header") %>
<link rel="stylesheet" href="/css/navigation.css">
<link rel="stylesheet" href="/css/footer.css">
<link rel="stylesheet" href="/css/product.css">
<title><%= product.name %></title>
</head>
<body>

<%- include("./partials/NavigationBar/navigation-bar") %>

<section id="product-section">
    <div class="product-header py-3">
        <ol class="breadcrumb m-0">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item"><a href="/shop">Shop</a></li>
            <li class="breadcrumb-item"><a href="/shop/<%= product._id %>"><%= product.name %></a></li>
        </ol>
    </div>
    <div class="product-body mt-3">
        <div class="row">
            <div class="image-col col col-12 col-lg-6 col-sm-6 mb-5">
                <img loading="lazy" class="quickview-img" src="/<%= product.image %>" alt="<%= product.name %>">
            </div>
            <div class="col col-12 col-lg-6 col-sm-6">
                <h2 class="item-title"><%= product.name %></h2>
                <% if (product.max) { %>
                    <h4 class="mt-3 item-price">$<%= product.min %> - $<%= product.max %></h4>
                <% } else { %>
                    <h4 class="mt-3 item-price">$<%= product.min %>
                <% } %>
                <h6 class="my-3">Choose Style</h6>
                <div id="options" class="hstack w-75 flex-wrap gap-3 mt-2">
                    <% product.options.forEach(option => { %>
                        <button id="<%= option.name %>" class="btn option-btn btn-outline-dark rounded-0" value="<%= option.price %>"><%= option.name %></button>
                    <% }); %>
                </div>
                <div class="text-danger" id="option-error"></div>
                <div class="product-footer hstack flex-wrap justify-content-between align-items-end mt-5">
                    <div class="option-price">
                        <p class="text-secondary m-0">Price: <span style="width: 2.5rem; display: inline-block;" id="price"></span></p>
                    </div>
                    <div>
                        <button type="button" id="<%= product._id %>" value="" class="btn add-to-cart ms-auto px-4 py-2 bg-dark rounded-0 text-light" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="option 1">
                            Book
                        </button>
                        <button onclick="addfav('<%= product._id %>', event)" type="button" id="id" value="" class="ms-2 btn favorite px-4 py-2 bg-secondary rounded-0 text-light" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="option 1">
                            Add to wishlist
                        </button>
                    </div>
                    </div>
                <div class="mt-5 d-flex gap-4 flex-wrap share-container">
                    <span>Share: </span>
                    <a style="cursor: pointer;" onclick="shareOnFacebook()">
                        <img loading="lazy" src="/assets/facebook.png" alt="Facebook">
                    </a>
                    <a style="cursor: pointer;" onclick="shareOnInstagram()">
                        <img loading="lazy" src="/assets/instagram.png" alt="Instagram">
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<hr>


<script src="/js/product.js"></script>
<%- include("./partials/footer") %>
<script>isFavorite('<%= product._id %>')</script>
